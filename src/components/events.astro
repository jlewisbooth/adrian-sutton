---
import Event from "./event-list-item.astro";
import { getCollection } from "astro:content";

const events = await getCollection("events");
---

<div class="w-full flex flex-col gap-2">
  <div class="flex flex-row gap-4 items-center">
    <svg
      width="39"
      height="42"
      viewBox="0 0 39 42"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        opacity="0.8"
        d="M11.8786 3.40295L24 41.403L0 24.3517L11.8786 3.40295Z"
        fill="#BC0F1E"></path>
      <path
        opacity="0.8"
        d="M16.5864 9.99512L33.5858 9.5042L21.9961 26.1183L16.5864 9.99512Z"
        fill="#575450"></path>
    </svg>
    <h2 class="text-contrast font-bold">EVENTS</h2>
  </div>
  <div>
    {
      events.map((event: any) => (
        <Event
          title={event.data.title}
          date={event.data.date}
          location={event.data.location}
          compiledContent={event.rendered.html}
        />
      ))
    }
  </div>
</div>
